"use strict";(()=>{var e={};e.id=3662,e.ids=[3662],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6762:(e,o)=>{Object.defineProperty(o,"M",{enumerable:!0,get:function(){return function e(o,r){return r in o?o[r]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,r)):"function"==typeof o&&"default"===r?o:void 0}}})},8428:(e,o,r)=>{r.r(o),r.d(o,{config:()=>c,default:()=>d,routeModule:()=>l});var t={};r.r(t),r.d(t,{default:()=>u});var n=r(9947),s=r(325),i=r(6762),a=r(3209);async function u(e,o){if("POST"===e.method){let r;let{usuario:t,senha:n}=e.body;if(!t||!n)return o.status(400).json({message:"Usu\xe1rio ou senha n\xe3o fornecidos."});try{r=await (0,a.$)();let[e]=await r.query("SELECT * FROM usuarios WHERE usuario = ? AND senha = ?",[t,n]);e.length>0?o.status(200).json({message:"Login realizado com sucesso.",user:e[0]}):o.status(401).json({message:"Usu\xe1rio ou senha inv\xe1lidos."})}catch(e){console.error("Erro ao processar login:",e),o.status(500).json({message:"Erro interno do servidor."})}finally{}}else o.status(405).json({message:"M\xe9todo n\xe3o permitido."})}let d=(0,i.M)(t,"default"),c=(0,i.M)(t,"config"),l=new n.PagesAPIRouteModule({definition:{kind:s.A.PAGES_API,page:"/api/login",pathname:"/api/login",bundlePath:"",filename:""},userland:t})},3209:(e,o,r)=>{let t;r.d(o,{$:()=>i});let n=require("mysql2/promise");var s=r.n(n);let i=async()=>(t||(t=s().createPool({host:"marcofriorefrigeracao.com.br",user:"marcofri_user",password:"SenhaNova123@",database:"marcofri_citymedical",waitForConnections:!0,connectionLimit:10,queueLimit:0})),t)},325:(e,o)=>{Object.defineProperty(o,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,o,r)=>{e.exports=r(5600)}};var o=require("../../webpack-api-runtime.js");o.C(e);var r=o(o.s=8428);module.exports=r})();