"use strict";(()=>{var e={};e.id=1777,e.ids=[1777],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6762:(e,o)=>{Object.defineProperty(o,"M",{enumerable:!0,get:function(){return function e(o,t){return t in o?o[t]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,t)):"function"==typeof o&&"default"===t?o:void 0}}})},7907:(e,o,t)=>{t.r(o),t.d(o,{config:()=>u,default:()=>d,routeModule:()=>l});var r={};t.r(r),t.d(r,{default:()=>c});var a=t(9947),n=t(325),s=t(6762),i=t(3209);async function c(e,o){if("POST"===e.method){let{nome:t,especialidade:r,telefone:a,dtcad:n,id_usuario:s,crm:c,uf_crm:d}=e.body;if(!t||!r)return o.status(400).json({message:"Nome e especialidade s\xe3o obrigat\xf3rios."});try{console.log("Iniciando conex\xe3o com o banco...");let u=await (0,i.$)();console.log("Conex\xe3o estabelecida com sucesso."),console.log("Dados recebidos:",e.body);let l="INSERT INTO medicos (nome, especialidade, telefone, dtcad, id_usuario, crm, uf_crm) VALUES (?, ?, ?, ?, ?, ?, ?)",m=[t,r,a,n,s,c,d];console.log("Tentando executar a query:",l,"com valores:",m),await u.execute(l,m),o.status(201).json({message:"M\xe9dico cadastrado com sucesso!"})}catch(e){console.error("Erro ao conectar ao banco de dados:",e),o.status(500).json({message:"Erro interno do servidor."})}finally{}}else o.status(405).json({message:"M\xe9todo n\xe3o permitido."})}let d=(0,s.M)(r,"default"),u=(0,s.M)(r,"config"),l=new a.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/medicos",pathname:"/api/medicos",bundlePath:"",filename:""},userland:r})},3209:(e,o,t)=>{let r;t.d(o,{$:()=>s});let a=require("mysql2/promise");var n=t.n(a);let s=async()=>(r||(r=n().createPool({host:"marcofriorefrigeracao.com.br",user:"marcofri_user",password:"SenhaNova123@",database:"marcofri_citymedical",waitForConnections:!0,connectionLimit:10,queueLimit:0})),r)},325:(e,o)=>{Object.defineProperty(o,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,o,t)=>{e.exports=t(5600)}};var o=require("../../webpack-api-runtime.js");o.C(e);var t=o(o.s=7907);module.exports=t})();