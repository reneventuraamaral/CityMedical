"use strict";(()=>{var e={};e.id=6741,e.ids=[6741],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6762:(e,o)=>{Object.defineProperty(o,"M",{enumerable:!0,get:function(){return function e(o,a){return a in o?o[a]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,a)):"function"==typeof o&&"default"===a?o:void 0}}})},5934:(e,o,a)=>{a.r(o),a.d(o,{config:()=>c,default:()=>u,routeModule:()=>l});var r={};a.r(r),a.d(r,{default:()=>d});var t=a(9947),n=a(325),i=a(6762),s=a(3209);async function d(e,o){if("GET"===e.method)try{console.log("Iniciando conex\xe3o com o banco...");let a=await (0,s.$)();console.log("Conex\xe3o estabelecida com sucesso."),console.log("Dados recebidos:",e.body);let[r]=await a.query("SELECT id, veiculo, nome, dtcad, id_usuario FROM propagandas");console.log("Tentando executar a query:","SELECT id, veiculo, nome, dtcad, id_usuario FROM propagandas"),o.status(200).json(r)}catch(e){console.error("Erro ao buscar propagandas:",e),o.status(500).json({message:"Erro interno do servidor."})}finally{}else o.setHeader("Allow",["GET"]),o.status(405).json({message:`M\xe9todo ${e.method} n\xe3o permitido.`})}let u=(0,i.M)(r,"default"),c=(0,i.M)(r,"config"),l=new t.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/getPropagandas",pathname:"/api/getPropagandas",bundlePath:"",filename:""},userland:r})},3209:(e,o,a)=>{let r;a.d(o,{$:()=>i});let t=require("mysql2/promise");var n=a.n(t);let i=async()=>(r||(r=n().createPool({host:"marcofriorefrigeracao.com.br",user:"marcofri_user",password:"SenhaNova123@",database:"marcofri_citymedical",waitForConnections:!0,connectionLimit:10,queueLimit:0})),r)},325:(e,o)=>{Object.defineProperty(o,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,o,a)=>{e.exports=a(5600)}};var o=require("../../webpack-api-runtime.js");o.C(e);var a=o(o.s=5934);module.exports=a})();